/**
 * @summary Main JS of Ajax Product Search for WooCommerce
 *
 * @version   1.0.0
 * @since     1.0.0
 * @requires  jQuery.js
 */
jQuery(function(t){var a={init:function(){a.activate_select2()},activate_select2:function(){var a=t(alg_wc_aps.search_input_css_selector);a.each(function(){var a=t(this);a.select2({maximumInputLength:20,minimumInputLength:3,placeholder:a.attr("placeholder")||"",ajax:{url:alg_wc_aps.ajaxurl,dataType:"json",delay:250,data:function(e){var n={s:e.term,action:alg_wc_aps.ajax_actions.search_products,page:e.page||1};return a.each(function(){t.each(this.attributes,function(){this.specified&&this.name.indexOf("data-")!=-1&&(n[this.name.replace("data-","")]=this.value)})}),n},processResults:function(t,a){return a.page=a.page||1,{results:t.data.items,pagination:{more:a.page*t.data.posts_per_page<t.data.total_count}}},cache:!0},templateResult:function(t){return"function"==typeof wc_aps_template_result?wc_aps_template_result(t):t.text},escapeMarkup:function(t){return t},language:{inputTooShort:function(t){var a=t.minimum-t.input.length,e=alg_wc_aps.select2_args.inputTooShort;return e=e.replace("%d",a)},inputTooLong:function(t){var a=t.input.length-t.maximum,e=alg_wc_aps.select2_args.inputTooLong;return e=e.replace("%d",a)},errorLoading:function(){return alg_wc_aps.select2_args.errorLoading},loadingMore:function(){return alg_wc_aps.select2_args.loadingMore},searching:function(){return alg_wc_aps.select2_args.searching},noResults:function(){return alg_wc_aps.select2_args.noResults}}})}),a.on("select2:select",function(t){window.location.href=t.params.data.permalink})}};a.init()});